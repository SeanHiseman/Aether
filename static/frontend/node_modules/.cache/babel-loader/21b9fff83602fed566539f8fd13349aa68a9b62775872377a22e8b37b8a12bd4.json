{"ast":null,"code":"import _slicedToArray from\"C:/Users/seanh/OneDrive/Aether/static/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext(null);export var useUser=function useUser(){return useContext(UserContext);};export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){fetch('/get_current_user').then(function(response){console.log(\"Raw response:\",response);return response.json();}).then(function(data){console.log(\"FEtched user data:\",data);if(data.user_id){setUser({id:data.user_id});}}).catch(function(error){console.error(\"Error fetching user data\",error);});},[]);console.log(\"Current user in context:\",user);return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user:user,setUser:setUser},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","UserContext","useUser","UserProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","fetch","then","response","console","log","json","data","user_id","id","catch","error","Provider","value"],"sources":["C:/Users/seanh/OneDrive/Aether/static/frontend/src/components/userContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nexport const UserContext = createContext(null);\r\n\r\nexport const useUser = () => useContext(UserContext);\r\n\r\nexport const UserProvider = ({ children }) => {\r\n    const [user, setUser ] = useState(null);\r\n    useEffect(() => {\r\n        fetch('/get_current_user')\r\n            .then(response => {\r\n                console.log(\"Raw response:\", response); \r\n                return response.json();\r\n            })  \r\n            .then(data => {\r\n                console.log(\"FEtched user data:\", data);\r\n                if (data.user_id) {\r\n                    setUser({ id: data.user_id});\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error fetching user data\", error);\r\n            });\r\n    }, []);\r\n    console.log(\"Current user in context:\", user);\r\n    return (\r\n        <UserContext.Provider value={{ user, setUser }}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    );\r\n};"],"mappings":"oIAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,MAAO,IAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CAE9C,MAAO,IAAM,CAAAO,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,QAAS,CAAAN,UAAU,CAACK,WAAW,CAAC,GAEpD,MAAO,IAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACnC,IAAAC,SAAA,CAAyBT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhCG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpBT,SAAS,CAAC,UAAM,CACZa,KAAK,CAAC,mBAAmB,CAAC,CACrBC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEF,QAAQ,CAAC,CACtC,MAAO,CAAAA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDJ,IAAI,CAAC,SAAAK,IAAI,CAAI,CACVH,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEE,IAAI,CAAC,CACvC,GAAIA,IAAI,CAACC,OAAO,CAAE,CACdR,OAAO,CAAC,CAAES,EAAE,CAAEF,IAAI,CAACC,OAAO,CAAC,CAAC,CAChC,CACJ,CAAC,CAAC,CACDE,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZP,OAAO,CAACO,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CACpD,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CACNP,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEN,IAAI,CAAC,CAC7C,mBACIT,IAAA,CAACC,WAAW,CAACqB,QAAQ,EAACC,KAAK,CAAE,CAAEd,IAAI,CAAJA,IAAI,CAAEC,OAAO,CAAPA,OAAQ,CAAE,CAAAL,QAAA,CAC1CA,QAAQ,CACS,CAAC,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}