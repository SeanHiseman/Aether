{"ast":null,"code":"import _slicedToArray from\"C:/Users/seanh/OneDrive/Aether/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FriendRequests(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setRequests=_useState2[1];useEffect(function(){fetch(\"/get_requests\").then(function(response){if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(function(data){return setRequests(data);}).catch(function(error){console.log('There was a problem fetching the friend request: ',error.message);});},[]);var handleAccept=function handleAccept(requestId){fetch(\"/accept_request/\".concat(requestId),{method:'PUT'}).then(function(){//Remove accepted request from list\nsetRequests(requests.filter(function(req){return req.request_id!==requestId;}));});};var handleReject=function handleReject(requestId){fetch(\"/reject_request/\".concat(requestId),{method:'DELETE'}).then(function(){// Remove rejected request from list\nsetRequests(requests.filter(function(req){return req.request_id!==requestId;}));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Incoming Friend Requests\"}),requests.map(function(request){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Request from: \",request.senderName]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAccept(request.request_id);},children:\"Accept\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleReject(request.request_id);},children:\"Reject\"})]},request.request_id);})]});}export default FriendRequests;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","FriendRequests","_useState","_useState2","_slicedToArray","requests","setRequests","fetch","then","response","ok","Error","json","data","catch","error","console","log","message","handleAccept","requestId","concat","method","filter","req","request_id","handleReject","children","map","request","senderName","onClick"],"sources":["C:/Users/seanh/OneDrive/Aether/frontend/src/components/friendRequestsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction FriendRequests() {\r\n    const [requests, setRequests] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(`/get_requests`)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('Network response was not ok');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => setRequests(data))\r\n            .catch(error => {\r\n                console.log('There was a problem fetching the friend request: ', error.message);\r\n            });\r\n    }, []);\r\n\r\n    const handleAccept = (requestId) => {\r\n        fetch(`/accept_request/${requestId}`, { method: 'PUT' })\r\n            .then(() => {\r\n                //Remove accepted request from list\r\n                setRequests(requests.filter(req => req.request_id !== requestId));\r\n            });\r\n    };\r\n\r\n    const handleReject = (requestId) => {\r\n        fetch(`/reject_request/${requestId}`, { method: 'DELETE' })\r\n            .then(() => {\r\n                // Remove rejected request from list\r\n                setRequests(requests.filter(req => req.request_id !== requestId));\r\n            });\r\n    };\r\n    return (\r\n        <div>\r\n            <h3>Incoming Friend Requests</h3>\r\n            {requests.map(request => (\r\n                <div key={request.request_id}>\r\n                    <p>Request from: {request.senderName}</p>\r\n                    <button onClick={() => handleAccept(request.request_id)}>Accept</button>\r\n                    <button onClick={() => handleReject(request.request_id)}>Reject</button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FriendRequests;\r\n"],"mappings":"6HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACtB,IAAAC,SAAA,CAAgCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BP,SAAS,CAAC,UAAM,CACZW,KAAK,gBAAgB,CAAC,CACjBC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAClD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDJ,IAAI,CAAC,SAAAK,IAAI,QAAI,CAAAP,WAAW,CAACO,IAAI,CAAC,GAAC,CAC/BC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAEF,KAAK,CAACG,OAAO,CAAC,CACnF,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,SAAS,CAAK,CAChCb,KAAK,oBAAAc,MAAA,CAAoBD,SAAS,EAAI,CAAEE,MAAM,CAAE,KAAM,CAAC,CAAC,CACnDd,IAAI,CAAC,UAAM,CACR;AACAF,WAAW,CAACD,QAAQ,CAACkB,MAAM,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,UAAU,GAAKL,SAAS,GAAC,CAAC,CACrE,CAAC,CAAC,CACV,CAAC,CAED,GAAM,CAAAM,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIN,SAAS,CAAK,CAChCb,KAAK,oBAAAc,MAAA,CAAoBD,SAAS,EAAI,CAAEE,MAAM,CAAE,QAAS,CAAC,CAAC,CACtDd,IAAI,CAAC,UAAM,CACR;AACAF,WAAW,CAACD,QAAQ,CAACkB,MAAM,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,UAAU,GAAKL,SAAS,GAAC,CAAC,CACrE,CAAC,CAAC,CACV,CAAC,CACD,mBACIpB,KAAA,QAAA2B,QAAA,eACI7B,IAAA,OAAA6B,QAAA,CAAI,0BAAwB,CAAI,CAAC,CAChCtB,QAAQ,CAACuB,GAAG,CAAC,SAAAC,OAAO,qBACjB7B,KAAA,QAAA2B,QAAA,eACI3B,KAAA,MAAA2B,QAAA,EAAG,gBAAc,CAACE,OAAO,CAACC,UAAU,EAAI,CAAC,cACzChC,IAAA,WAAQiC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAZ,YAAY,CAACU,OAAO,CAACJ,UAAU,CAAC,EAAC,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,cACxE7B,IAAA,WAAQiC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAL,YAAY,CAACG,OAAO,CAACJ,UAAU,CAAC,EAAC,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,GAHlEE,OAAO,CAACJ,UAIb,CAAC,EACT,CAAC,EACD,CAAC,CAEd,CAEA,cAAe,CAAAxB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}